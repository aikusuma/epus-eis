# =================================================================
# EIS Dinkes - Environment Configuration
# =================================================================
# Executive Information System untuk Dinas Kesehatan
# Fork-friendly: Ganti variabel BRANDING untuk kabupaten lain

# =================================================================
# Application Configuration
# =================================================================

# Base URL for the application
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Environment: development, staging, production
NODE_ENV=development

# =================================================================
# Branding (Ganti untuk kabupaten lain)
# =================================================================
NEXT_PUBLIC_APP_NAME="EIS Dinkes Brebes"
NEXT_PUBLIC_KABUPATEN="Brebes"
NEXT_PUBLIC_DINKES_NAME="Dinas Kesehatan Kabupaten Brebes"
NEXT_PUBLIC_EMAIL_DOMAIN="dinkes-brebes.go.id"
NEXT_PUBLIC_DEMO_EMAIL="admin@dinkes-brebes.go.id"
NEXT_PUBLIC_DEMO_PASSWORD="admin123"

# =================================================================
# PostgreSQL Database (Operational & ACL)
# =================================================================

# Connection URL for Prisma
DATABASE_URL="postgresql://epus_user:epus_password@localhost:5432/epus_eis"

# Direct connection for migrations (same as above for local dev)
DIRECT_URL="postgresql://epus_user:epus_password@localhost:5432/epus_eis"

# =================================================================
# ClickHouse Database (Analytics)
# =================================================================

CLICKHOUSE_URL=http://localhost:8123
CLICKHOUSE_USER=epus_user
CLICKHOUSE_PASSWORD=epus_password
CLICKHOUSE_DB=epus_analytics

# =================================================================
# Authentication (JWT)
# =================================================================

# JWT Secret Key - CHANGE THIS IN PRODUCTION!
# Generate with: openssl rand -base64 32
JWT_SECRET="super-secret-key-change-in-production-min-32-chars"

# JWT Token Expiry (in seconds)
JWT_EXPIRES_IN=28800  # 8 hours

# Refresh Token Expiry (in seconds)
JWT_REFRESH_EXPIRES_IN=604800  # 7 days

# =================================================================
# Security
# =================================================================

# Allowed CORS Origins (comma-separated for multiple)
CORS_ORIGINS=http://localhost:3000

# Rate limiting (requests per minute per IP)
RATE_LIMIT_RPM=100

# Webhook secret untuk integrasi e-Puskesmas (HMAC SHA-256)
# Wajib di-set agar endpoint POST /api/eis/klaster* dan POST /api/eis/lintas-klaster menerima data dari pihak ketiga.
EPUS_WEBHOOK_SECRET="change-this-epus-webhook-secret"

# =================================================================
# Docker Development URLs
# =================================================================
# When running with docker-compose, use these:
# DATABASE_URL="postgresql://epus_user:epus_password@postgres:5432/epus_eis"
# CLICKHOUSE_URL=http://clickhouse:8123

# =================================================================
# Important Notes:
# =================================================================
# 1. Rename this file to '.env.local' for local development
# 2. Never commit the actual '.env.local' file to version control
# 3. Generate a strong JWT_SECRET for production
# 4. Run 'docker-compose up -d' to start PostgreSQL & ClickHouse
# 5. Run 'bun db:push' to create database schema
# 6. Run 'bun db:seed' to seed initial data
